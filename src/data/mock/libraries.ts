// 도서관 정보 Mock 데이터 (서울/경기 중심 20개 도서관)
export interface Library {
  id: string;
  name: string;
  address: string;
  coordinates: [number, number]; // [lat, lng]
  phone: string;
  homepage: string;
  integratedLoan: boolean; // 통합도서 대여참여여부
  chaekbada: boolean; // 책바다사용여부
  regionalILL: boolean; // 지역상호대차 제공여부
  currentStock: number; // 현재 재고
  dailyLoans: number; // 일일 대출건수
  pendingILL: number; // 대기중인 상호대차
}

export const libraries: Library[] = [
  {
    id: "LIB001",
    name: "국립중앙도서관",
    address: "서울특별시 서초구 반포대로 201",
    coordinates: [37.4955, 127.0048],
    phone: "02-535-4142",
    homepage: "https://www.nl.go.kr",
    integratedLoan: true,
    chaekbada: true,
    regionalILL: true,
    currentStock: 12500000,
    dailyLoans: 3200,
    pendingILL: 45,
  },
  {
    id: "LIB002",
    name: "서울도서관",
    address: "서울특별시 중구 세종대로 110",
    coordinates: [37.5663, 126.9779],
    phone: "02-2133-0300",
    homepage: "https://lib.seoul.go.kr",
    integratedLoan: true,
    chaekbada: true,
    regionalILL: true,
    currentStock: 280000,
    dailyLoans: 1500,
    pendingILL: 32,
  },
  {
    id: "LIB003",
    name: "강남도서관",
    address: "서울특별시 강남구 언주로 652",
    coordinates: [37.5094, 127.0409],
    phone: "02-3448-4620",
    homepage: "https://gangnam.seoulb.kr",
    integratedLoan: true,
    chaekbada: true,
    regionalILL: true,
    currentStock: 150000,
    dailyLoans: 980,
    pendingILL: 28,
  },
  {
    id: "LIB004",
    name: "송파도서관",
    address: "서울특별시 송파구 송파대로 37길 77",
    coordinates: [37.5048, 127.1066],
    phone: "02-449-1352",
    homepage: "https://songpalib.or.kr",
    integratedLoan: true,
    chaekbada: true,
    regionalILL: true,
    currentStock: 120000,
    dailyLoans: 750,
    pendingILL: 15,
  },
  {
    id: "LIB005",
    name: "마포구립서강도서관",
    address: "서울특별시 마포구 신촌로2길 33",
    coordinates: [37.5519, 126.9378],
    phone: "02-717-5307",
    homepage: "https://mapolib.or.kr",
    integratedLoan: true,
    chaekbada: true,
    regionalILL: true,
    currentStock: 85000,
    dailyLoans: 520,
    pendingILL: 12,
  },
  {
    id: "LIB006",
    name: "용산도서관",
    address: "서울특별시 용산구 회나무로 180",
    coordinates: [37.5318, 126.9820],
    phone: "02-792-5013",
    homepage: "https://yongsanlib.seoul.kr",
    integratedLoan: true,
    chaekbada: true,
    regionalILL: true,
    currentStock: 95000,
    dailyLoans: 480,
    pendingILL: 8,
  },
  {
    id: "LIB007",
    name: "성북정보도서관",
    address: "서울특별시 성북구 화랑로 138",
    coordinates: [37.6059, 127.0318],
    phone: "02-964-2571",
    homepage: "https://sblib.or.kr",
    integratedLoan: true,
    chaekbada: true,
    regionalILL: true,
    currentStock: 78000,
    dailyLoans: 380,
    pendingILL: 6,
  },
  {
    id: "LIB008",
    name: "노원평생학습관",
    address: "서울특별시 노원구 동일로 1324",
    coordinates: [37.6547, 127.0616],
    phone: "02-950-9590",
    homepage: "https://nowonlib.or.kr",
    integratedLoan: true,
    chaekbada: true,
    regionalILL: true,
    currentStock: 65000,
    dailyLoans: 420,
    pendingILL: 10,
  },
  {
    id: "LIB009",
    name: "은평구립도서관",
    address: "서울특별시 은평구 연서로 319",
    coordinates: [37.6178, 126.9282],
    phone: "02-351-9831",
    homepage: "https://eplib.or.kr",
    integratedLoan: true,
    chaekbada: true,
    regionalILL: true,
    currentStock: 72000,
    dailyLoans: 350,
    pendingILL: 7,
  },
  {
    id: "LIB010",
    name: "양천도서관",
    address: "서울특별시 양천구 목동로 105",
    coordinates: [37.5299, 126.8661],
    phone: "02-2643-7482",
    homepage: "https://yangcheonlib.or.kr",
    integratedLoan: true,
    chaekbada: true,
    regionalILL: true,
    currentStock: 88000,
    dailyLoans: 490,
    pendingILL: 14,
  },
  {
    id: "LIB011",
    name: "수원시중앙도서관",
    address: "경기도 수원시 팔달구 권선로 551",
    coordinates: [37.2708, 127.0022],
    phone: "031-228-4720",
    homepage: "https://suwonlib.or.kr",
    integratedLoan: true,
    chaekbada: true,
    regionalILL: true,
    currentStock: 180000,
    dailyLoans: 850,
    pendingILL: 22,
  },
  {
    id: "LIB012",
    name: "성남시중앙도서관",
    address: "경기도 성남시 수정구 수정로 228",
    coordinates: [37.4489, 127.1451],
    phone: "031-751-3141",
    homepage: "https://snlib.or.kr",
    integratedLoan: true,
    chaekbada: true,
    regionalILL: true,
    currentStock: 165000,
    dailyLoans: 780,
    pendingILL: 19,
  },
  {
    id: "LIB013",
    name: "용인시중앙도서관",
    address: "경기도 용인시 처인구 중부대로 1199",
    coordinates: [37.2341, 127.2036],
    phone: "031-324-4834",
    homepage: "https://yonginlib.or.kr",
    integratedLoan: true,
    chaekbada: true,
    regionalILL: true,
    currentStock: 145000,
    dailyLoans: 620,
    pendingILL: 16,
  },
  {
    id: "LIB014",
    name: "고양시대화도서관",
    address: "경기도 고양시 일산서구 대화로 10",
    coordinates: [37.6768, 126.7526],
    phone: "031-919-5080",
    homepage: "https://goyanglib.or.kr",
    integratedLoan: true,
    chaekbada: true,
    regionalILL: true,
    currentStock: 98000,
    dailyLoans: 540,
    pendingILL: 11,
  },
  {
    id: "LIB015",
    name: "부천시원미도서관",
    address: "경기도 부천시 원미구 부일로 223",
    coordinates: [37.4928, 126.7837],
    phone: "032-625-6080",
    homepage: "https://bclib.or.kr",
    integratedLoan: true,
    chaekbada: true,
    regionalILL: true,
    currentStock: 112000,
    dailyLoans: 590,
    pendingILL: 13,
  },
  {
    id: "LIB016",
    name: "안양시만안도서관",
    address: "경기도 안양시 만안구 예술공원로 102",
    coordinates: [37.3938, 126.9181],
    phone: "031-388-4222",
    homepage: "https://anyanglib.or.kr",
    integratedLoan: true,
    chaekbada: true,
    regionalILL: true,
    currentStock: 92000,
    dailyLoans: 450,
    pendingILL: 9,
  },
  {
    id: "LIB017",
    name: "인천광역시중앙도서관",
    address: "인천광역시 남동구 정각로 9",
    coordinates: [37.4469, 126.7044],
    phone: "032-421-4621",
    homepage: "https://ilib.or.kr",
    integratedLoan: true,
    chaekbada: true,
    regionalILL: true,
    currentStock: 210000,
    dailyLoans: 920,
    pendingILL: 25,
  },
  {
    id: "LIB018",
    name: "파주시중앙도서관",
    address: "경기도 파주시 중앙로 122",
    coordinates: [37.7596, 126.7802],
    phone: "031-940-5200",
    homepage: "https://pajulib.or.kr",
    integratedLoan: true,
    chaekbada: true,
    regionalILL: true,
    currentStock: 78000,
    dailyLoans: 320,
    pendingILL: 5,
  },
  {
    id: "LIB019",
    name: "화성시중앙도서관",
    address: "경기도 화성시 향남읍 발안로 85",
    coordinates: [37.1334, 126.9111],
    phone: "031-369-2800",
    homepage: "https://hscitylib.or.kr",
    integratedLoan: true,
    chaekbada: true,
    regionalILL: true,
    currentStock: 125000,
    dailyLoans: 480,
    pendingILL: 8,
  },
  {
    id: "LIB020",
    name: "광명시도서관",
    address: "경기도 광명시 오리로 869",
    coordinates: [37.4258, 126.8646],
    phone: "02-2626-8900",
    homepage: "https://gmlib.or.kr",
    integratedLoan: true,
    chaekbada: true,
    regionalILL: true,
    currentStock: 68000,
    dailyLoans: 290,
    pendingILL: 4,
  },
];

// 도서관 간 거리 계산 (Haversine formula)
export function calculateDistance(
  coord1: [number, number],
  coord2: [number, number]
): number {
  const R = 6371; // 지구 반지름 (km)
  const dLat = ((coord2[0] - coord1[0]) * Math.PI) / 180;
  const dLon = ((coord2[1] - coord1[1]) * Math.PI) / 180;
  const a =
    Math.sin(dLat / 2) * Math.sin(dLat / 2) +
    Math.cos((coord1[0] * Math.PI) / 180) *
      Math.cos((coord2[0] * Math.PI) / 180) *
      Math.sin(dLon / 2) *
      Math.sin(dLon / 2);
  const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));
  return R * c;
}
